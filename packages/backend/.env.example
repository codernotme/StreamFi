# StreamFi Backend â€” .env example

# --- Core & Server ---
PORT=8000
DATABASE_URL="mongodb+srv://username:password@your-cluster.mongodb.net/streamfi?retryWrites=true&w=majority&appName=Cluster0"

# --- Auth ---
JWT_SECRET="replace-with-strong-secret"
JWT_EXPIRES_IN="1d"
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# --- Blockchain / Web3 ---
JSON_RPC_PROVIDER="https://sepolia.infura.io/v3/<your-project>"
CREATOR_VAULT_ADDRESS="0x04bBFf33518F6F3FDd2cB93897826635CceaE71A"
ADMIN_PRIVATE_KEY="0x0000000000000000000000000000000000000000000000000000000000000000"
NITROLITE_DEPLOY_BLOCK=9194395

# --- Payments ---
STRIPE_SECRET_KEY=

# --- Nitrolite Protocol (Sepolia) ---
# Deployed contract addresses on Sepolia (align with packages/foundry-contracts/deployments/sepolia.json)
NITROLITE_TOKEN_ADDRESS="0x652cAF8A7688f583E93C22b19F635F9c2532D453"
NITROLITE_CUSTODY_ADDRESS="0xc04D1A1152e4803B3FCe6bae8200dFe19Be1C9D6"      # ChannelManager
NITROLITE_ADJUDICATOR_ADDRESS="0xb79C129317ec545d1268a2AAedf26146f353a6d5"
CREATOR_VAULT_ADDRESS="0x04bBFf33518F6F3FDd2cB93897826635CceaE71A"          # Nitrolite (vault)
CHANNEL_CHAIN_ID=11155111
MIN_CHANNEL_DEPOSIT_WEI=100000000000000    # 0.0001 ETH
MIN_TIP_WEI=100000000000                   # 0.0000001 ETH

# --- CORS / Frontend ---
# Comma-separated list of allowed origins (e.g., http://localhost:3000)
CORS_ORIGIN=http://localhost:3000

# --- Streaming (Node Media Server / origin) ---
NMS_RTMP_URL="rtmp://nms:1935/live"
NMS_HLS_BASE="http://nms:8080"
NMS_HLS_TEMPLATE="/live/{key}/index.m3u8"
API_BASE="http://backend:8000/api"

# --- Indexer & Metadata (NFTs) ---
IPFS_GATEWAY="https://ipfs.io"
INDEXER_BATCH_SIZE=5000
INDEXER_REORG_DEPTH=6

# Optional pinning (Pinata)
PINATA_JWT=
PIN_ON_METADATA_FETCH=false
